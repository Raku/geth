use WWW;

constant URL = 'http://localhost:8888/?chan=%23perl6';

say "Response is: " ~ post URL, :X-GITHUB-EVENT<push>, get-req;

sub get-req {
    ｢{"ref":"refs/heads/master","before":"7f52f7a4e45759e8d28de0fd87560fefb7eedc2a","after":"2800632eb0e03adee0c8395a0cf03b30b981ff36","created":false,"deleted":false,"forced":false,"base_ref":null,"compare":"https://github.com/perl6/roast/compare/7f52f7a4e457...2800632eb0e0","commits":[{"id":"2800632eb0e03adee0c8395a0cf03b30b981ff36","tree_id":"7574e67169dcdd64ef07d52513997ee23e5e89ac","distinct":true,"message":"Can .grab() a BagHash key with weight larger than 64 bits\n\nRT#132279: https://rt.perl.org/Ticket/Display.html?id=132279","timestamp":"2017-10-13T18:52:57-04:00","url":"https://github.com/perl6/roast/commit/2800632eb0e03adee0c8395a0cf03b30b981ff36","author":{"name":"Zoffix Znet","email":"cpan@zoffix.com","username":"zoffixznet"},"committer":{"name":"Zoffix Znet","email":"cpan@zoffix.com","username":"zoffixznet"},"added":[],"removed":[],"modified":["S02-types/baghash.t"]}],"head_commit":{"id":"2800632eb0e03adee0c8395a0cf03b30b981ff36","tree_id":"7574e67169dcdd64ef07d52513997ee23e5e89ac","distinct":true,"message":"Can .grab() a BagHash key with weight larger than 64 bits\n\nRT#132279: https://rt.perl.org/Ticket/Display.html?id=132279","timestamp":"2017-10-13T18:52:57-04:00","url":"https://github.com/perl6/roast/commit/2800632eb0e03adee0c8395a0cf03b30b981ff36","author":{"name":"Zoffix Znet","email":"cpan@zoffix.com","username":"zoffixznet"},"committer":{"name":"Zoffix Znet","email":"cpan@zoffix.com","username":"zoffixznet"},"added":[],"removed":[],"modified":["S02-types/baghash.t"]},"repository":{"id":888060,"name":"roast","full_name":"perl6/roast","owner":{"name":"perl6","email":"","login":"perl6","id":52564,"avatar_url":"https://avatars2.githubusercontent.com/u/52564?v=4","gravatar_id":"","url":"https://api.github.com/users/perl6","html_url":"https://github.com/perl6","followers_url":"https://api.github.com/users/perl6/followers","following_url":"https://api.github.com/users/perl6/following{/other_user}","gists_url":"https://api.github.com/users/perl6/gists{/gist_id}","starred_url":"https://api.github.com/users/perl6/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/perl6/subscriptions","organizations_url":"https://api.github.com/users/perl6/orgs","repos_url":"https://api.github.com/users/perl6/repos","events_url":"https://api.github.com/users/perl6/events{/privacy}","received_events_url":"https://api.github.com/users/perl6/received_events","type":"Organization","site_admin":false},"private":false,"html_url":"https://github.com/perl6/roast","description":"Perl 6 test suite","fork":false,"url":"https://github.com/perl6/roast","forks_url":"https://api.github.com/repos/perl6/roast/forks","keys_url":"https://api.github.com/repos/perl6/roast/keys{/key_id}","collaborators_url":"https://api.github.com/repos/perl6/roast/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/perl6/roast/teams","hooks_url":"https://api.github.com/repos/perl6/roast/hooks","issue_events_url":"https://api.github.com/repos/perl6/roast/issues/events{/number}","events_url":"https://api.github.com/repos/perl6/roast/events","assignees_url":"https://api.github.com/repos/perl6/roast/assignees{/user}","branches_url":"https://api.github.com/repos/perl6/roast/branches{/branch}","tags_url":"https://api.github.com/repos/perl6/roast/tags","blobs_url":"https://api.github.com/repos/perl6/roast/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/perl6/roast/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/perl6/roast/git/refs{/sha}","trees_url":"https://api.github.com/repos/perl6/roast/git/trees{/sha}","statuses_url":"https://api.github.com/repos/perl6/roast/statuses/{sha}","languages_url":"https://api.github.com/repos/perl6/roast/languages","stargazers_url":"https://api.github.com/repos/perl6/roast/stargazers","contributors_url":"https://api.github.com/repos/perl6/roast/contributors","subscribers_url":"https://api.github.com/repos/perl6/roast/subscribers","subscription_url":"https://api.github.com/repos/perl6/roast/subscription","commits_url":"https://api.github.com/repos/perl6/roast/commits{/sha}","git_commits_url":"https://api.github.com/repos/perl6/roast/git/commits{/sha}","comments_url":"https://api.github.com/repos/perl6/roast/comments{/number}","issue_comment_url":"https://api.github.com/repos/perl6/roast/issues/comments{/number}","contents_url":"https://api.github.com/repos/perl6/roast/contents/{+path}","compare_url":"https://api.github.com/repos/perl6/roast/compare/{base}...{head}","merges_url":"https://api.github.com/repos/perl6/roast/merges","archive_url":"https://api.github.com/repos/perl6/roast/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/perl6/roast/downloads","issues_url":"https://api.github.com/repos/perl6/roast/issues{/number}","pulls_url":"https://api.github.com/repos/perl6/roast/pulls{/number}","milestones_url":"https://api.github.com/repos/perl6/roast/milestones{/number}","notifications_url":"https://api.github.com/repos/perl6/roast/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/perl6/roast/labels{/name}","releases_url":"https://api.github.com/repos/perl6/roast/releases{/id}","deployments_url":"https://api.github.com/repos/perl6/roast/deployments","created_at":1283618029,"updated_at":"2017-09-25T11:10:19Z","pushed_at":1507935223,"git_url":"git://github.com/perl6/roast.git","ssh_url":"git@github.com:perl6/roast.git","clone_url":"https://github.com/perl6/roast.git","svn_url":"https://github.com/perl6/roast","homepage":"http://perl6.org/","size":25569,"stargazers_count":92,"watchers_count":92,"language":"Perl 6","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":82,"mirror_url":null,"open_issues_count":47,"forks":82,"open_issues":47,"watchers":92,"default_branch":"master","stargazers":92,"master_branch":"master","organization":"perl6"},"pusher":{"name":"zoffixznet","email":"zoffixznet@users.noreply.github.com"},"organization":{"login":"perl6","id":52564,"url":"https://api.github.com/orgs/perl6","repos_url":"https://api.github.com/orgs/perl6/repos","events_url":"https://api.github.com/orgs/perl6/events","hooks_url":"https://api.github.com/orgs/perl6/hooks","issues_url":"https://api.github.com/orgs/perl6/issues","members_url":"https://api.github.com/orgs/perl6/members{/member}","public_members_url":"https://api.github.com/orgs/perl6/public_members{/member}","avatar_url":"https://avatars2.githubusercontent.com/u/52564?v=4","description":""},"sender":{"login":"zoffixznet","id":5747918,"avatar_url":"https://avatars2.githubusercontent.com/u/5747918?v=4","gravatar_id":"","url":"https://api.github.com/users/zoffixznet","html_url":"https://github.com/zoffixznet","followers_url":"https://api.github.com/users/zoffixznet/followers","following_url":"https://api.github.com/users/zoffixznet/following{/other_user}","gists_url":"https://api.github.com/users/zoffixznet/gists{/gist_id}","starred_url":"https://api.github.com/users/zoffixznet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zoffixznet/subscriptions","organizations_url":"https://api.github.com/users/zoffixznet/orgs","repos_url":"https://api.github.com/users/zoffixznet/repos","events_url":"https://api.github.com/users/zoffixznet/events{/privacy}","received_events_url":"https://api.github.com/users/zoffixznet/received_events","type":"User","site_admin":false}}｣
}
